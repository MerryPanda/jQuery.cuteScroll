!function(t){var e={generator:new function(){this.id=function(){return Date.now().toString(36)+"-"+Math.random().toString(36).substr(2,8)}},el:new function(){this.css=new function(){this.clean=function(t){for(var e in t)t[e]="";return t}},this.defaultsAdd=function(t,e,n){return t.addClass(e.class).css(n)},this.additions=new function(){this.add=function(t,e){t.addClass(e.addClass||null).removeClass(e.removeClass||null).css(e||null)},this.remove=function(t,n){t.addClass(n.removeClass||null).removeClass(n.addClass||null).removeClass(n.class||null).css(e.el.css.clean(n||null))}}}},n={item:function(t,e){var i={},o=new n.el(i,e,t),s=new n.scroller(i,o,t),r=new n.event(i,o,s),a=new n.command(i,o,t,r,s);this.process=function(t){for(var e in a)t&&t[e]&&a[e]&&a[e](t[e])}},observer:function(){var i={};this.itemRemove=function(t){i[t]&&(i[t].jqe.removeData("id"),delete i[t])},this.itemCreateAndProcess=function(o,s){var r=e.generator.id();i[r]={obj:new n.item(new n.noticer(this,r),o),jqe:t(o),jse:o},i[r].jqe.data("id",r),i[r].obj.process(s)},this.itemRecreate=function(t,e){var n=function(t){return i[t]?i[t].jse:null}(t);this.itemRemove(t),this.itemCreateAndProcess(n,e)},this.itemExists=function(t){return!!i[t]},this.itemInvokeAndProcess=function(t,e){if(!i[t])throw new Error(`item does not exist : ${t}`);i[t].obj.process(e)}},noticer:function(t,e){var n=!1,i=!0;this.isCreated=function(){return n},this.setToCreated=function(){n=!0},this.setToNotCreated=function(){n=!1},this.isEnabled=function(){return i},this.setToEnabled=function(){i=!0},this.setToDisabled=function(){i=!1},this.remove=function(){t.itemRemove(e)},this.recreate=function(n){t.itemRecreate(e,n)}},el:function(i,o,s){function r(n,i,o){for(var s in i)o?c[i[s]]&&e.el.additions[n](c[i[s]].jq,o[i[s]]):e.el.additions[n](t(s),i[s])}function a(){c.wnd.invoke(),c.doc.invoke(),c.wrapper.create(),c.canvas.create(),c.rail.create(),c.bar.create()}var c=this,l=["wrapper","canvas","rail","bar"];this.wnd=new n.wnd,this.doc=new n.doc,this.wrapper=new n.wrapper(i,o),this.canvas=new n.canvas(i,o),this.rail=new n.rail(i,o),this.bar=new n.bar(i,o),this.activate=function(){s.isCreated()||a(),r("add",l,i),r("add",i.element)},this.remove=function(){r("remove",l,i),r("remove",i.element),this.bar.remove(),this.rail.remove(),this.canvas.unwrap()}},wnd:function(){this.invoke=function(){this.jq=t(window)}},doc:function(){this.invoke=function(){this.jq=t(document)}},event:function(t,e,i){var o=new n.on(t,e,i);this.activate=function(){o.hover(),o.scrollerBarDrag(),o.wheelScroll(),o.contentChange(),o.resize(),o.touch()},this.remove=function(){e.wnd.jq.off("resize.cs"),e.bar.jq.off("mouseenter.cs mouseleave.cs mousedown.cs"),e.rail.jq.off("mouseenter.cs mouseleave.cs"),e.canvas.jq.off("mouseenter.cs mouseleave.cs wheel.cs mousewheel.cs touchstart.cs touchmove.cs touchend.cs"),o.observer.disconnect()}},on:function(t,e,i){this.observer,this.hover=function(){e.rail.jq.on("mouseenter.cs",function(){i.visibility.shouldBeShown("rail")}),e.rail.jq.on("mouseleave.cs",function(){i.visibility.canBeHidden("rail")}),e.bar.jq.on("mouseenter.cs",function(){i.visibility.shouldBeShown("bar")}),e.bar.jq.on("mouseleave.cs",function(){i.visibility.canBeHidden("bar")}),e.canvas.jq.on("mouseenter.cs",function(){i.visibility.shouldBeShown("canvas")}),e.canvas.jq.on("mouseleave.cs",function(){i.visibility.canBeHidden("canvas")})},this.scrollerBarDrag=function(){e.bar.jq.on("mousedown.cs",function(t){e.doc.jq.on("mousemove.cs",function(e){i.scrollByScrollerBar(e.pageY-t.pageY),t.pageY=e.pageY}),e.doc.jq.on("mouseup.cs",function(t){e.doc.jq.off("mousemove.cs"),e.doc.jq.off("mouseup.cs")}),t.preventDefault()})},this.wheelScroll=function(){e.canvas.jq.on("wheel.cs mousewheel.cs",function(t){var e=Math.sign(t.originalEvent.deltaY);0!==e&&i.scrollByWheel(e),i.calc.shouldItContinueToScrollPage()||t.preventDefault()})},this.contentChange=function(){this.observer=new MutationObserver(function(n){t.on.contentChange&&t.on.contentChange(e.canvas.jq),i.onContentChange()}),this.observer.observe(e.canvas.js,{childList:!0,subtree:!0})},this.resize=function(){e.wnd.jq.on("resize.cs",function(){i.onContentChange()})},this.touch=function(){var o;e.canvas.jq.on("touchstart.cs",function(e){i.visibility.shouldBeShown("touch"),(o=new n.touch(t)).start(e.originalEvent.touches[0].pageY)}),e.canvas.jq.on("touchmove.cs",function(t){o.move(t.originalEvent.touches[0].pageY),i.scrollByTouchMove(o.moveDeltaGetAndShift()),t.preventDefault()}),e.canvas.jq.on("touchend.cs",function(t){i.visibility.canBeHidden("touch"),i.scrollByTouchSwipe(o.velocityGet(),o.getDelta())})}},wrapper:function(n,i){var o={position:"relative",overflow:"hidden"};this.create=function(){this.jq=e.el.defaultsAdd(t("<div>"),n.wrapper,o),t(i).wrap(this.jq),this.invoke()},this.invoke=function(){this.jq=t(i).parent("."+n.wrapper.class)}},canvas:function(n,i){var o=this,s={overflow:"hidden"};this.js=i,this.create=function(){this.jq=e.el.defaultsAdd(t(i),n.canvas,s)},this.invoke=function(){this.jq=t(i)},this.unwrap=function(){o.jq.css(e.el.css.clean(s)),this.jq.unwrap()}},rail:function(n,i){var o={position:"absolute",zIndex:100,top:0};this.create=function(){this.jq=e.el.defaultsAdd(t("<div>"),n.rail,o),t(i).parent().append(this.jq)},this.invoke=function(){this.jq=t(i).siblings("."+n.rail.class)},this.remove=function(){this.jq.remove()}},bar:function(n,i){var o={position:"absolute",zIndex:110,top:0};this.create=function(){this.jq=e.el.defaultsAdd(t("<div>"),n.bar,o),t(i).parent().append(this.jq)},this.invoke=function(){this.jq=t(i).siblings("."+n.bar.class)},this.remove=function(){this.jq.remove()}},scroller:function(t,e,i){function o(t){i.isEnabled()&&(s.visibility.shouldBeShown(),a.move(t))}var s=this,r=new n.scrollerDisplay(t,e);this.calc=new n.scrollerCalc(t,e);var a=new n.scrollerOperation(t,e,this.calc);this.visibility=new n.scrollerVisibility(t,i,r),this.scrollByScrollerBar=function(t){o(t)},this.scrollByWheel=function(t){o(t*this.calc.wheelIteration())},this.scrollByTouchMove=function(t){o(this.calc.touchIteration(t))},this.scrollByTouchSwipe=function(e,n){if(Math.abs(e)>t.touch.swipeVelocityThreshold&&Math.abs(n)>t.touch.swipeDistanceThreshold){var i=Math.abs(this.calc.touchIteration(n)*e*t.touch.swipeStrengthFactor),s=-Math.sign(e),r=function(){if(i>t.touch.swipeIterationMinDistance){var e=i*s;o(e),i-=Math.abs(e)*t.touch.swipeFadingFactor,setTimeout(r,t.touch.swipeIterationTimeout)}};r()}},this.jumpToTop=function(){a.jumpToTop()},this.jumpToBottom=function(){a.jumpToBottom()},this.onContentChange=function(){this.calc.shouldItBeEnabled()?(i.setToEnabled(),s.visibility.canBeHidden(),a.barHeightApplyProportionalToContent(),t.on.contentChangeShowScroller&&s.visibility.shouldBeShown()):(i.setToDisabled(),r.hide())},this.activate=function(){this.onContentChange()}},scrollerDisplay:function(t,e){this.hide=function(){e.rail.jq.hide(),e.bar.jq.hide()},this.fadeOut=function(){e.rail.jq.fadeOut(t.scroller.fadeOutSpeed),e.bar.jq.fadeOut(t.scroller.fadeOutSpeed)},this.fadeIn=function(){t.rail.visible&&e.rail.jq.stop(!0).fadeIn(t.scroller.fadeInSpeed),e.bar.jq.stop(!0).fadeIn(t.scroller.fadeInSpeed)}},scrollerVisibility:function(t,e,n){function i(){e.isEnabled()&&(clearTimeout(o),n.fadeIn(),t.scroller.alwaysVisible||(o=setTimeout(function(){r.shouldBeKeptVisible()||n.fadeOut()},t.scroller.hideDelay)))}var o,s={},r=this;this.shouldBeKeptVisible=function(){for(var t in s)return!0;return!1},this.shouldBeShown=function(t){t&&(s[t]=!0),i()},this.canBeHidden=function(t){t?delete s[t]:s={}}},scrollerCalc:function(t,e){var n;this.wheelIteration=function(){return t.mouse.wheelStep/this.canvasMaxOffset()*this.railHeight()},this.touchIteration=function(e){return t.touch.moveFactor*e/this.canvasMaxOffset()*this.railHeight()},this.shouldItBeScrolled=function(){return this.canvasHeight()>this.railHeight()},this.shouldItContinueToScrollPage=function(){return!(!this.isAtEdge()||!t.mouse.pageScroll)},this.isAtEdge=function(){return 0===n||1===n},this.shouldItBeEnabled=function(){return!(!this.shouldItBeScrolled()&&!t.scroller.alwaysVisible)},this.canvasHeight=function(){return e.canvas.js.scrollHeight},this.canvasMaxOffset=function(){return Math.abs(this.canvasHeight()-this.railHeight())},this.canvasAdjustedPosition=function(){return n*this.canvasMaxOffset()},this.canvasVisibleProportion=function(){return Math.abs(this.railHeight()/this.canvasHeight())},this.railHeight=function(){return e.rail.jq.outerHeight()},this.barHeight=function(){return e.bar.jq.outerHeight()},this.barPosition=function(){return e.bar.jq.position().top},this.barHeightProportionalToContent=function(){return this.canvasVisibleProportion()*this.railHeight()},this.barMaxOffset=function(){return Math.abs(this.railHeight()-this.barHeight())},this.barJumpToTop=function(){return n=0,0},this.barJumpToBottom=function(t){return n=1,this.barMaxOffset()},this.barMovementDistance=function(t){var e=this.barMaxOffset(),i=this.barPosition()+t;if(i>e)var o=e;else if(i<0)o=0;else o=i;return n=o/e,o}},scrollerOperation:function(t,e,n){function i(t){!function(t){e.bar.jq.css("top",t)}(t),function(t){e.canvas.jq.scrollTop(t)}(n.canvasAdjustedPosition())}this.move=function(t){i(n.barMovementDistance(t))},this.barHeightApplyProportionalToContent=function(){t.bar.height||function(t){e.bar.jq.css("height",t)}(n.barHeightProportionalToContent())},this.jumpToTop=function(){i(n.barJumpToTop())},this.jumpToBottom=function(){i(n.barJumpToBottom())}},touch:function(t){var e={early:null,current:null},n={y:{early:null,last:null,current:null},delta:null};this.velocityGet=function(){return(n.y.current-n.y.early)/(e.current-e.early)},this.moveDeltaGetAndShift=function(){return n.delta=n.y.last-n.y.current,n.y.last=n.y.current,n.delta},this.distanceGet=function(){return Math.abs(n.y.current-n.y.early)},this.getDelta=function(){return n.delta},this.move=function(i){n.y.current=i,e.current=(new Date).getTime(),function(){var i=e.current-e.early;i>t.touchSwipeTimeAdjustmentThreshold&&(e.early+=i/2,n.y.early+=(n.y.current-n.y.early)/2)}()},this.start=function(t){n.y.early=n.y.last=t,e.early=(new Date).getTime()}},command:function(t,e,i,o,s){function r(){i.isCreated()&&(o.remove(),e.remove(),i.setToNotCreated())}var a=new n.configurator(t);this.create=function(t){i.isCreated()||(a.fresh(t),e.activate(),o.activate(),s.activate(),i.setToCreated())},this.recreate=function(t){r(),i.recreate({create:t})},this.update=function(t){i.isCreated()&&(a.proceed(t),e.activate(),s.activate())},this.jumpToTop=function(){i.isCreated()&&s.jumpToTop()},this.jumpToBottom=function(){i.isCreated()&&s.jumpToBottom()},this.log=function(t){console.log(t)},this.alert=function(t){alert(t)},this.remove=function(t){r(),i.remove()}},configurator:function(e){this.proceed=function(n){t.extend(!0,e,function(e){return e.bar=t.extend({},e.scroller,e.bar),e.rail=t.extend({},e.scroller,e.rail),e.canvas=t.extend({},e.area,e.canvas),e.wrapper=t.extend({},e.area,e.wrapper),e}(n))},this.fresh=function(e){this.proceed(t.extend(!0,{},t.fn.cuteScroll.defaults,function(t){return t.rail&&(t.rail.display=t.rail.visible?"block":"none"),t}(e)))},this.cfgClean=function(){for(var t in e)delete e[t]}}},i=new function(){var e=new n.observer;this.process=function(n,i){var o=t(n).data("id");o&&e.itemExists(o)?e.itemInvokeAndProcess(o,i):e.itemCreateAndProcess(n,i)}};t.fn.cuteScroll=function(t){return this.each(function(){i.process(this,t)}),this},t.fn.cuteScroll.defaults={bar:{opacity:.5,minHeight:"4rem",zIndex:110,class:"cuteScroll-bar"},rail:{opacity:.1,height:"100%",zIndex:100,visible:!0,class:"cuteScroll-rail"},scroller:{background:"black",width:"0.5rem",right:0,alwaysVisible:!1,hideDelay:1e3,fadeOutSpeed:"slow",fadeInSpeed:"fast"},canvas:{class:"cuteScroll-canvas"},wrapper:{class:"cuteScroll-wrapper"},area:{height:"20rem",width:"100%"},mouse:{pageScroll:!0,wheelStep:120},touch:{moveFactor:1.1,swipeStrengthFactor:1.25,swipeFadingFactor:.075,swipeVelocityThreshold:.5,swipeDistanceThreshold:10,swipeTimeAdjustmentThreshold:500,swipeIterationMinDistance:.2,swipeIterationTimeout:5},on:{contentChange:!1,contentChangeShowScroller:!0}}}(jQuery);